<html>
  <head>
    <title>Earth Visualization - CAD</title>
  </head>
  <body>
    <center>
      <canvas id='globe' width='500' height='500'></canvas>
    </center>
    <script src="js/d3.v3.min.js"></script>
    <script src="js/topojson.v1.min.js"></script>
    <script src="js/planetaryjs.min.js"></script>
    <script>
      var planet = planetaryjs.planet();
      planet.loadPlugin(
          planetaryjs.plugins.earth({
          topojson: { file:   'js/world-110m.json' },
          oceans:   { fill:   '#000080' },
          land:     { fill:   '#339966' },
          borders:  { stroke: '#008000' }
        })
      );

      planet.loadPlugin(
          planetaryjs.plugins.topojson({
            file: './out.json'
          })
      );

      planet.loadPlugin(planetaryjs.plugins.drag());
      planet.loadPlugin(
        planetaryjs.plugins.zoom({
          scaleExtent: [200, 1000]
        })
      );

      planet.loadPlugin(function(planet) {
        planet.onDraw(function () {
          planet.withSavedContext(function (context) {
            var arc = planet.plugins.topojson.world;
            context.beginPath();
            planet.path.context(context)(arc);
            context.stroke();
            context.closePath();
          });
        });
      });

      planet.projection.scale(250).translate([250, 250]);
      var canvas = document.getElementById('globe');
      planet.draw(canvas);
    </script>
  </body>
</html>
